import{d as e,r as t,a,o as n,w as s,F as i,c as l,b as r,e as o,v as c,u as d,f as u,g as w,h}from"./vendor.b7fe0698.js";const g={class:"canvas"},m={class:"list"},v={class:"pl-5"},p=r("span",null,"width: ",-1);h(e({expose:[],setup(e){const h=t({width:470,name:"style-1"}),f=a(null),y=a(null);function b(e){h.name=e}async function x(){const e=y.value;if(!e)return;const t=`./images/${h.name}.svg`,a=new Image;return new Promise((async(n,s)=>{const i=await fetch(t),l=await i.text();f.value.innerHTML=l;const r=f.value.querySelector("svg");null==r||r.setAttribute("width",h.width.toString()),null==r||r.setAttribute("height",h.width.toString());const o=(new XMLSerializer).serializeToString(r),c=new Blob([o],{type:"image/svg+xml"});a.onload=()=>{e.width=h.width,e.height=h.width,e.getContext("2d").drawImage(a,0,0),n()},a.onerror=e=>{s(new Error("Render failed!: "+e))},a.src=window.URL.createObjectURL(c)}))}function L(){var e;null==(e=y.value)||e.toBlob((function(e){i.exports.saveAs(e,"avatar.png")}))}return n((async()=>{const e=new URL(location.href),t=e.searchParams.get("size"),a=e.searchParams.get("name");a&&(h.name=a),t&&(h.width=parseInt(t)||h.width),await x(),e.searchParams.get("download")&&L()})),s((()=>[h.width,h.name]),(()=>x())),(e,t)=>(w(),l(u,null,[r("div",g,[r("canvas",{ref:y,width:"600",height:"400"},null,512)]),r("div",m,[r("img",{src:"./images/style-1.svg",onClick:t[1]||(t[1]=e=>b("style-1"))}),r("img",{src:"./images/style-2.svg",onClick:t[2]||(t[2]=e=>b("style-2"))})]),r("label",v,[p,o(r("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>d(h).width=e)},null,512),[[c,d(h).width]])]),r("button",{onClick:L,class:"pl-5"},"download"),r("div",{hidden:"",ref:f},null,512)],64))}})).mount("#app");
