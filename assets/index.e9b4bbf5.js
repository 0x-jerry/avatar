import{d as a,r as e,a as t,o as n,w as s,F as i,c as l,b as r,e as o,f as c,g as d,v as u,u as w,h,i as m}from"./vendor.52c4bfbd.js";const g={class:"canvas"},v={class:"list"},p={class:"pl-5"},b=r("span",null,"width: ",-1);m(a({expose:[],setup(a){const m=["normal","black-white"],f=e({width:470,name:m[0]}),y=t(null),x=t(null);async function L(){const a=x.value;if(!a)return;const e=`./images/${f.name}.svg`,t=new Image;return new Promise((async(n,s)=>{const i=await fetch(e),l=await i.text();y.value.innerHTML=l;const r=y.value.querySelector("svg");null==r||r.setAttribute("width",f.width.toString()),null==r||r.setAttribute("height",f.width.toString());const o=(new XMLSerializer).serializeToString(r),c=new Blob([o],{type:"image/svg+xml"});t.onload=()=>{a.width=f.width,a.height=f.width,a.getContext("2d").drawImage(t,0,0),n()},t.onerror=a=>{s(new Error("Render failed!: "+a))},t.src=window.URL.createObjectURL(c)}))}function S(){var a;null==(a=x.value)||a.toBlob((function(a){i.exports.saveAs(a,"avatar.png")}))}return n((async()=>{const a=new URL(location.href),e=a.searchParams.get("size"),t=a.searchParams.get("name");t&&(f.name=t),e&&(f.width=parseInt(e)||f.width),await L(),a.searchParams.get("download")&&S()})),s((()=>[f.width,f.name]),(()=>L())),(a,e)=>(h(),l(o,null,[r("div",g,[r("canvas",{ref:x,width:"600",height:"400"},null,512)]),r("div",v,[(h(),l(o,null,c(m,(a=>r("img",{src:`/images/${a}.svg`,onClick:e=>{return t=a,void(f.name=t);var t}},null,8,["src","onClick"]))),64))]),r("label",p,[b,d(r("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=a=>w(f).width=a)},null,512),[[u,w(f).width]])]),r("button",{onClick:S,class:"pl-5"},"download"),r("div",{hidden:"",ref:y},null,512)],64))}})).mount("#app");
